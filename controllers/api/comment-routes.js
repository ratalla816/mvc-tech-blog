const router=require("express").Router(),{Comment:Comment}=require("../../models"),withAuth=require("../../utils/auth");router.get("/",function(t,o){Comment.findAll().then(function(t){return o.json(t)}).catch(function(t){console.log(t),o.status(500).json(t)})}),router.post("/",withAuth,function(t,o){t.session&&Comment.create({comment_text:t.body.comment_text,post_id:t.body.post_id,user_id:t.session.user_id}).then(function(t){return o.json(t)}).catch(function(t){console.log(t),o.status(400).json(t)})}),router.delete("/:id",function(t,o){Comment.destroy({where:{id:t.params.id}}).then(function(t){t?o.json(t):o.status(404).json({message:"no comments found"})}).catch(function(t){console.log(t),o.status(500).json(t)})}),module.exports=router;